{% extends 'layout.html.twig' %}

{% block breadcrumps %}
    <a href="{{ path('homepage') }}"><i class="material-icons">home</i></a> <i class="material-icons">chevron_right</i>
    <a href="{{ path('admin') }}"><i class="material-icons">tune</i>admin</a> <i class="material-icons">chevron_right</i>
    <a href="{{ path('period') }}"><i class="material-icons">date_range</i>Semaine type</a> <i class="material-icons">chevron_right</i>
    <i class="material-icons">add</i>Exception {{ exception.id }}
{% endblock %}

{% block content %}
    <h4 class="">Editer exception</h4>
    {{ form_start(form) }}
    {{ form_widget(form) }}
    <div>
        <button type="submit" class="btn waves-effect waves-light">Sauvegarder</button>
    </div>
    {{ form_end(form) }}

    {{ form_start(delete_form) }}
    {{ form_widget(delete_form) }}
    <div>
        <button type="submit" class="btn waves-effect waves-light red">Supprimer</button>
    </div>
    {{ form_end(delete_form) }}
{% endblock %}

{% block javascripts %}
    <script>
        $('.timepicker').pickatime({
            default: 'now', // Set default time: 'now', '1:30AM', '16:30'
            fromnow: 0,       // set default time to * milliseconds from now (using with default = 'now')
            twelvehour: false, // Use AM/PM or 24-hour format
            donetext: 'OK', // text for done-button
            cleartext: 'Effacer', // text for clear-button
            canceltext: 'Annuler', // Text for cancel-button
            autoclose: true, // automatic close timepicker
            ampmclickable: true, // make AM PM clickable
            aftershow: function(){} //Function for after opening timepicker
        });

        function typeUpdated(element) {
            if (element.value === 'ADD') {
                $('.add-only').show();
                $('select.add-only').material_select();
                $('select.add-only ').hide();
            } else {
                $('select.add-only').material_select('destroy');
                $('.add-only').hide();
            }
        }

        jQuery(function() {
            // Hide by default add type specific exceptions
            $('select.add-only').material_select('destroy');
            $('.add-only').hide();
        });
    </script>
{% endblock %}